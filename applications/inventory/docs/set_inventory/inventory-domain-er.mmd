erDiagram

    CatalogSet ||--o{ OwnedSet : owned_as
    StorageLocation ||--o{ OwnedSet : stores
    CatalogSet ||--o{ BarcodeMapping : identified_by

    CatalogSet {
        LONG id PK
        STRING bricklink_no
        STRING name
        INTEGER year_released
        STRING theme
        STRING image_url
        INSTANT last_synced_at
        STRING sync_status
        INT version
        INSTANT created_at
        INSTANT updated_at
    }

    OwnedSet {
        LONG id PK
        LONG catalog_set_id FK
        INTEGER quantity_owned
        INT storage_location_id FK
        STRING condition
        DATE purchase_date
        INSTANT created_at
        INSTANT updated_at
        INT version
    }

    StorageLocation {
        LONG id PK
        STRING code
        STRING description
        INSTANT created_at
        INSTANT updated_at
    }

    BarcodeMapping {
        STRING barcode PK
        LONG catalog_set_id FK
        INSTANT last_synced_at
    }
